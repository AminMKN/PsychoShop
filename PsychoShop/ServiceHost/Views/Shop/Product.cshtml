@model ShopCommand
@inject IAuthHelper _auhtHelper;
@{
    ViewData["Title"] = Model.Product.Name;
    ViewData["Keywords"] = Model.Product.Keywords;
    ViewData["MetaDescription"] = Model.Product.MetaDescription;
    if (Model.Message == ApplicationMessages.CommentSuccess)
    {
        <script type="text/javascript">
            Swal.fire({
                icon: 'success',
                title: '@Model.Message',
                text: 'فروشگاه اینترنتی سایکو شاپ',
                confirmButtonText: 'باشه',
            })
        </script>
    }
}

<div class="col-12">
    <div class="product-page">
        <article class="js-product">
            <div class="product-nav-container">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb px-0">
                        <li class="breadcrumb-item"><a>فروشگاه اینترنتی سایکو شاپ</a></li>
                        <li class="breadcrumb-item"><a>@Model.Product.ProductCategory</a></li>
                        <li class="breadcrumb-item"><a>@Model.Product.ProductSubCategory</a></li>
                        <li class="breadcrumb-item"><a>@Model.Product.Name</a></li>
                    </ol>
                </nav>
            </div>
            <div class="col-lg-4 col-md-12 col-xs-12 pull-right">
                <div class="product-gallery">
                    <img class="zoom-img" id="img-product-zoom" src="/Pictures/@Model.Product.Picture" data-zoom-image="/Pictures/@Model.Product.Picture" width="411" alt="@Model.Product.PictureAlt" title="@Model.Product.PictureAlt" />
                    <div id="gallery_01f" style="width:420px;float:right;">
                        <ul class="gallery-items owl-carousel owl-theme" id="gallery-slider">
                            <li class="item">
                                <a href="#" class="elevatezoom-gallery active" data-update="" data-image="/Pictures/@Model.Product.Picture" data-zoom-image="/Pictures/@Model.Product.Picture">
                                    <img src="/Pictures/@Model.Product.Picture" width="100" alt="@Model.Product.PictureAlt" title="@Model.Product.PictureTitle" />
                                </a>
                            </li>
                            @{
                                foreach (var pictures in Model.Product.Pictures)
                                {
                                    <li class="item">
                                        <a href="#" class="elevatezoom-gallery active" data-update="" data-image="/Pictures/@pictures.Picture" data-zoom-image="/Pictures/@pictures.Picture">
                                            <img src="/Pictures/@pictures.Picture" width="100" alt="@pictures.PictureAlt" title="@pictures.PictureTitle" />
                                        </a>
                                    </li>
                                }
                            }
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-lg-8 col-md-12 col-xs-12 pull-left px-0">
                <section class="product-info">
                    <div class="product-headline">
                        <div class="product-title-container">
                            <div class="product-directory">
                                <ul class="mb-0">
                                    <li>
                                        <a class="link-border">@Model.Product.ProductCategory</a>
                                    </li>
                                    <li>
                                        <span>/</span>
                                    </li>
                                    <li>
                                        <a class="link-border">@Model.Product.ProductSubCategory</a>
                                    </li>
                                </ul>
                                <h1 class="product-title">
                                    @Model.Product.Name
                                </h1>
                            </div>
                        </div>
                    </div>
                    <div class="product-attributes">
                        <div class="col-lg-8 col-md-8 col-xs-12 pull-right pr-0">
                            <div class="product-config">
                                <div class="product-engagement">
                                    <div class="product-engagement-item">
                                        <div class="product-engagement-set"></div>
                                        <div class="product-engagement-link" data-activate-tab="comments">
                                            @Model.Product.Comments.Count()
                                            نظرات کاربران
                                        </div>
                                    </div>
                                </div>
                                <div class="product-config-wrapper">
                                    <div class="product-params">
                                        <ul>
                                            <li class="title-product-features">
                                                ویژگی‌های محصول
                                            </li>
                                            @Html.Raw(Model.Product.Property)
                                        </ul>
                                        <div class="product-additional-info">
                                            <div class="product-additional-item">
                                                <p>
                                                    هشدار سامانه همتا: حتما در زمان تحویل دستگاه، به کمک کد فعال‌سازی
                                                    چاپ شده روی جعبه یا کارت گارانتی، دستگاه را از طریق #7777*، برای
                                                    سیم‌کارت خود فعال‌سازی کنید. آموزش تصویری در آدرس اینترنتی
                                                    hmti.ir/05
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-4 col-xs-12 pull-left sticky-sidebar" style="padding:0">
                            <div class="product-seller-info">
                                <div class="js-seller-info-changable">
                                    <div class="product-seller-row">
                                        <div class="product-seller-first-line d-inline-block">فروشنده:</div>
                                        <a class="js-seller-count-row">
                                            سایکو شاپ
                                        </a>
                                    </div>
                                    <div class="product-seller-row product-seller-row-guarantee">
                                        <div class="js-guarantee-text">
                                            گارانتی 18 ماهه سایکو شاپ
                                            <i class="mdi mdi-check"></i>
                                        </div>
                                    </div>
                                    <div class="product-seller-row js-seller-info-shipment">
                                        <div class="js-guarantee-text">
                                            موجود در انبار فروشنده
                                            <i class="mdi mdi-content-save-outline"></i>
                                        </div>
                                        <div class="product-delivery-warehouse">آماده ارسال</div>
                                    </div>
                                    <div class="product-seller-row">
                                        <div class="product-seller-digiclub">
                                            <img src="~/Theme/assets/images/digiclub.png" alt="digiclub" title="digiclub">
                                            <div>
                                                <span>150</span>
                                                امتیاز سایکو ‌کلاب
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-seller-row">
                                        <div class="product-seller-row-price">
                                            <div class="product-seller-price-label">
                                                قیمت فروشنده
                                            </div>
                                            <div class="product-seller-price-real">
                                                @{
                                                    if (Model.Product.HasDiscount)
                                                    {
                                                        <del class="text-danger">
                                                            <div class="product-seller-price-prev text-danger">@Model.Product.Price.ToMoney()تومان</div>
                                                        </del>
                                                        <br />
                                                        <div class="product-seller-price-prev">@Model.Product.PriceWithDiscount.ToMoney()تومان</div>
                                                    }
                                                    else
                                                    {
                                                        <div class="product-seller-price-prev">@Model.Product.Price.ToMoney()تومان</div>
                                                    }
                                                }
                                            </div>
                                        </div>
                                        <div class="quantity col-md-6" style="padding-bottom:5px">
                                            <input type="number" min="1" max="10" step="1" value="1" id="productCount">
                                        </div>
                                        <a class="btn-add-to-cart" onclick="addToCart('@Model.Product.Id', '@Model.Product.Name', '@Model.Product.Price', '@Model.Product.Picture')">
                                            <span class="btn-add-to-cart-txt">
                                                افزودن
                                                به سبد خرید
                                            </span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-feature-body">
                        <div class="product-feature">
                            <div class="row">
                                <div class="product-feature-col">
                                    <a class="product-feature-item">
                                        <img src="~/Theme/assets/images/footer-svg/delivery.svg" alt="delivery" title="delivery">
                                        <span>
                                            امکان تحویل
                                            <br>
                                            اکسپرس
                                        </span>
                                    </a>
                                </div>

                                <div class="product-feature-col">
                                    <a class="product-feature-item">
                                        <img src="~/Theme/assets/images/footer-svg/contact-us.svg" alt="contact-us" title="contact-us" style="width:35px;">
                                        <span>
                                            ۷ روز هفته
                                            <br>
                                            ۲۴ ساعته
                                        </span>
                                    </a>
                                </div>

                                <div class="product-feature-col">
                                    <a class="product-feature-item">
                                        <img src="~/Theme/assets/images/footer-svg/payment-terms.svg" alt="payment-terms" title="payment-terms" style="width:35px;">
                                        <span>
                                            امکان
                                            <br>
                                            پرداخت در محل
                                        </span>
                                    </a>
                                </div>

                                <div class="product-feature-col">
                                    <a class="product-feature-item">
                                        <img src="~/Theme/assets/images/footer-svg/origin-guarantee.svg" alt="origin-guarantee" title="origin-guarantee" style="width:35px;">
                                        <span>
                                            ضمانت
                                            <br>
                                            اصل بودن کالا
                                        </span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </article>

        <div class="p-tabs">
            <div class="col-lg-12 col-md-12 col-xs-12 pull-right p-0 res-w">
                <div class="box-tabs-main">
                    <ul class="box-tabs">
                        <li class="box-tabs-tab active-tabs">
                            <a href="#"> نقد و بررسی</a>
                        </li>
                        <li class="box-tabs-tab">
                            <a href="#"> مشخصات</a>
                        </li>
                        <li class="box-tabs-tab">
                            <a href="#">نظرات کاربران</a>
                        </li>
                        <li class="box-tabs-tab">
                            <a href="#">ثبت نظر</a>
                        </li>
                    </ul>
                </div>
                <div class="tabs-content">
                    <div class="tab-active-content">
                        <div class="tab content-expert" style="display:block;">
                            <article>
                                <h2 class="params-headline">
                                    نقد و بررسی
                                    <span>
                                        @Model.Product.Name
                                    </span>
                                </h2>
                                <section class="content-expert-summary">
                                    <div class="is-masked">
                                        <div class="mask-text-product-summary">
                                            <p class="text-justify">
                                                @Html.Raw(Model.Product.Description)
                                            </p>
                                        </div>
                                        <a href="#" class="mask-handler">
                                            <span class="show-more">ادامه مطلب</span>
                                            <span class="show-less">بستن</span>
                                        </a>
                                        <div class="shadow-box"></div>
                                    </div>
                                </section>
                            </article>
                        </div>

                        <div class="tab params" style="display:none;">
                            <article>
                                <h2 class="params-headline">
                                    مشخصات فنی
                                    <span>
                                        @Model.Product.Name
                                    </span>
                                </h2>
                                <section>
                                    <h3 class="params-title">مشخصات کلی</h3>
                                    <ul class="params-list">
                                        @Html.Raw(Model.Product.Information)
                                    </ul>
                                </section>
                            </article>
                        </div>
                        <div class="tab comments" style="display:none;">
                            <h2 class="comments-headline">
                                نظرات کاربران به:
                                <span>
                                    <span>
                                        @Model.Product.Name
                                    </span>
                                </span>
                            </h2>
                            <div class="comments-summary">
                                <div class="col-lg-12 col-md-12 col-xs-12 pull-left">
                                    <div id="product-comment-list">
                                        <div class="tab-content" id="myTabContent">
                                            <div class="tab-pane fade show active" id="Buyerscomments" role="tabpanel" aria-labelledby="Buyerscomments-tab">
                                                <ul class="comments-list">
                                                    <li>
                                                        @{
                                                            foreach (var comment in Model.Product.Comments)
                                                            {
                                                                <section>
                                                                    <div class="col-lg-12 col-md-12 col-xs-12 pull-left">
                                                                        <div class="article">
                                                                            <div class="header">
                                                                                <div>
                                                                                    @comment.UserName
                                                                                    <span>
                                                                                        @comment.CreationDate
                                                                                    </span>
                                                                                </div>
                                                                            </div>
                                                                            <p class="text-justify">
                                                                                @comment.Message
                                                                            </p>
                                                                        </div>
                                                                    </div>
                                                                </section>
                                                            }
                                                        }
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab js-faq-container" style="display:none;">
                            <div class="faq-headline">
                                ثبت نظر
                                <span>
                                    @Model.Product.Name
                                </span>
                            </div>
                            <form method="post" class="form-faq">
                                <input type="hidden" asp-for="AddComment.ProductId" value="@Model.Product.Id" />
                                <input type="hidden" asp-for="AddComment.UserAccountId" value="@_auhtHelper.GetCurrentUserAccountId()" />
                                <div class="form-faq-row">
                                    <div class="form-faq-col">
                                        <div class="ui-textarea">
                                            <textarea asp-for="AddComment.Message" required="required" title="نظر خود را مطرح کنید" class="ui-textarea-field"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-faq-row">
                                    <div class="form-faq-col form-faq-col-submit">
                                        <button class="btn-tertiary" type="submit">ثبت نظر</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="footer-product-id">
                        <span>شناسه کالا :</span>
                        <span>@Model.Product.Code</span>
                    </div>
                </div>
                @await Component.InvokeAsync("Product")
            </div>
        </div>

    </div>
</div>